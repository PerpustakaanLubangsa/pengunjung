<!doctype html>
<html lang="id">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ALibs2 - Realtime Display</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js"></script>

    <style>
      /* --- RATA TENGAH VERTIKAL & HORIZONTAL --- */
      html, body {
        height: 100%; 
        width: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden; /* Hilangkan scrollbar utama */
      }
      body {
        font-family: 'Poppins', sans-serif;
        background-color: #1F2937; /* Background gelap */
        color: white;
        display: flex;
        justify-content: center; /* Rata tengah horizontal */
        align-items: center; /* Rata tengah vertikal */
      }
      #messageDisplay {
        /* Menggunakan max-width dan padding agar ada ruang di pinggir */
        max-width: 90%; 
        max-height: 90%;
        text-align: center; 
        
        font-size: 5rem; 
        font-weight: 700;
        line-height: 1.3;
        
        word-wrap: break-word; /* Teks panjang garis baru */
        white-space: pre-wrap; /* Mempertahankan baris baru dari textarea */
        overflow: auto; /* Izinkan scroll jika teks melebihi batas container */
        
        /* Hilangkan warna background, biarkan transparan */
        background: transparent; 
      }
    </style>
</head>
<body>

    <div id="messageDisplay">
        </div>

    <script type="module">
        import { initializeApp } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-app.js';
        import { getDatabase, ref, onValue } from 'https://www.gstatic.com/firebasejs/9.22.2/firebase-database.js';

        // !!! GANTI DENGAN CONFIG FIREBASE ASLI PROYEK ANDA !!!
        const firebaseConfig = {
            apiKey: "AIzaSy_GANTI_INI_DENGAN_KUNCI_API_ASLI", 
            authDomain: "traying-29bf4.firebaseapp.com", 
            projectId: "traying-29bf4", 
            databaseURL: "https://traying-29bf4-default-rtdb.firebaseio.com" 
        };
        
        const MESSAGE_PATH = 'realtime_message/current_text'; 

        const app = initializeApp(firebaseConfig);
        const db = getDatabase(app);
        const messageRef = ref(db, MESSAGE_PATH);

        const displayEl = document.getElementById('messageDisplay');
        
        onValue(messageRef, (snapshot) => {
            const data = snapshot.val();
            
            if (data && data.content !== undefined) {
                const message = data.content.trim();
                
                if (message === "") {
                    // JIKA KOSONG: Biarkan kosong
                    displayEl.textContent = "";
                } else {
                    // JIKA ADA PESAN: Tampilkan
                    displayEl.textContent = message;
                }
            } else {
                 // JIKA NODE BELUM ADA: Biarkan kosong
                 displayEl.textContent = "";
            }
        }, (error) => {
            console.error("FIREBASE ERROR (Realtime Listener):", error);
            // Anda bisa tambahkan logic error handling di sini, tapi permintaan user adalah membiarkan kosong.
            displayEl.textContent = ""; 
        });
        
    </script>
</body>
</html>